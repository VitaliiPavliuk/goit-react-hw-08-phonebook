"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[868],{3868:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r,a=t(2791),s=t(9434),c=t(2286),i=t(5861),o=t(4687),u=t.n(o),l=t(5206),d=t(6151),p=t(361),m=t(168),x=t(7691).ZP.form(r||(r=(0,m.Z)(["\n  border: 1px solid gray;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n"]))),h=t(3329),f=function(){var e=(0,s.I0)(),n=(0,a.useRef)(),t=(0,a.useRef)(),r=(0,s.v9)(c.Af),o=function(){var a=(0,i.Z)(u().mark((function a(s){var c;return u().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),c={name:n.current.value,number:t.current.value},!r.some((function(e){return e.name.toLowerCase().trim()===c.name.toLowerCase().trim()}))){a.next=5;break}return l.Am.error("".concat(c.name," is already in contacts.")),a.abrupt("return");case 5:return a.prev=5,a.next=8,e((0,p.vB)(c)).unwrap();case 8:l.Am.success("The contact was successfully added to your phonebook!"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(5),l.Am.error("Oops! Something went wrong... ".concat(a.t0));case 14:m();case 15:case"end":return a.stop()}}),a,null,[[5,11]])})));return function(e){return a.apply(this,arguments)}}(),m=function(){n.current.value="",t.current.value=""};return(0,h.jsxs)(x,{onSubmit:o,children:[(0,h.jsx)("h1",{style:{textAlign:"center"},children:"Phonebook"}),(0,h.jsxs)("label",{children:[(0,h.jsx)("p",{children:"Name"}),(0,h.jsx)("input",{ref:n,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,h.jsxs)("label",{children:[(0,h.jsx)("p",{children:"Number"}),(0,h.jsx)("input",{ref:t,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,h.jsx)("br",{}),(0,h.jsx)(d.Z,{variant:"contained",type:"submit",children:"Add contact"})]})},v=t(9245),j=t(1413),b=t(7689),y=t(7247),w=t(8594),g=t(3400),Z=t(493),k=t(4852),A=t(4233),C=t(6895),D=function(){var e=(0,s.I0)();return(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{children:"Find contacts by name"}),(0,h.jsx)("input",{type:"text",onChange:function(n){e((0,C.T)(n.target.value.toLowerCase().trim()))}})]})},I=function(){var e=(0,s.v9)(c.Qb),n=(0,s.v9)(c.hC),t=(0,s.I0)();(0,a.useEffect)((function(){e&&t((0,p.mb)())}),[t,e]);var r=function(){var e=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t((0,p.yD)(n)).unwrap();case 3:l.Am.success("The contact was successfully deleted!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l.Am.error("Oops! Something went wrong... ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:0!==n.length&&(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(D,{}),(0,h.jsx)(Z.Z,{dense:!0,sx:{width:"100%",maxWidth:480},children:n.map((function(e){return(0,h.jsxs)(k.ZP,{children:[(0,h.jsx)(A.Z,{divider:"true",primary:"".concat(e.name,": ").concat(e.number)}),(0,h.jsx)(w.Z,{title:"Delete",children:(0,h.jsx)(g.Z,{onClick:function(){return r(e.id)},children:(0,h.jsx)(y.Z,{})})})]},e.id)}))})]})})};var z,F,P=(z=function(){var e=(0,s.v9)(c.c5);return(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(f,{}),"pending"===e&&(0,h.jsx)(v.a,{}),(0,h.jsx)(I,{})]})},F="/login",function(e){var n=(0,s.v9)(c.Qb),t=(0,s.v9)(c.ss);return n&&"pending"!==t?(0,h.jsx)(z,(0,j.Z)({},e)):(0,h.jsx)(b.Fg,{to:F})})}}]);
//# sourceMappingURL=868.b5d6acb5.chunk.js.map