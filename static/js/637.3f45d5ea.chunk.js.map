{"version":3,"file":"static/js/637.3f45d5ea.chunk.js","mappings":"mPAwEA,UAhEA,WACE,IAAMA,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IACrBC,GAAaF,EAAAA,EAAAA,IAAYG,EAAAA,IACzBC,GAAWC,EAAAA,EAAAA,MAEXC,GAAgBC,EAAAA,EAAAA,UAChBC,GAAmBD,EAAAA,EAAAA,UACnBE,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACHT,GAELE,EAAS,YACV,GAAE,CAACA,EAAUF,IAEd,IAAMU,EAAY,mCAAG,WAAMC,GAAN,gFACnBA,EAAMC,iBAEAC,EAAW,CACfC,MAAOV,EAAcW,QAAQC,MAC7BC,SAAUX,EAAiBS,QAAQC,OALlB,kBASMT,GAASW,EAAAA,EAAAA,IAAaL,IAAWM,SATvC,OASXC,EATW,OAUjBC,EAAAA,GAAAA,QAAA,eAAsBD,EAASE,KAAKC,KAApC,2BAViB,gDAYjBF,EAAAA,GAAAA,MAAA,+CAZiB,yDAAH,sDAgBlB,OACE,4BACE,sDACA,kBAAMG,SAAUd,EAAhB,WACE,8BACE,mCACA,kBACEe,KAAK,QACLC,IAAKtB,EACLmB,KAAK,YACLI,YAAY,wBACZC,UAAQ,QAGZ,8BACE,sCACA,kBACEH,KAAK,WACLC,IAAKpB,EACLiB,KAAK,eACLM,UAAW,EACXD,UAAQ,QAGZ,mBACA,mBAAQH,KAAK,SAASK,SAAqB,YAAXjC,EAAhC,0BAMP,C","sources":["pages/LoginPage.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { selectIsLoggedIn, selectUserStatus } from '../redux/selectors';\nimport { requestLogin } from '../redux/user/user.operations';\n\nfunction LoginPage() {\n  const status = useSelector(selectUserStatus);\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const navigate = useNavigate();\n\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isLoggedIn) return;\n\n    navigate('/contacts');\n  }, [navigate, isLoggedIn]);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    const formData = {\n      email: emailInputRef.current.value,\n      password: passwordInputRef.current.value,\n    };\n\n    try {\n      const response = await dispatch(requestLogin(formData)).unwrap();\n      toast.success(`User ${response.user.name} successfully entered!`);\n    } catch (error) {\n      toast.error(`Oops! Something went wrong... ${error}`);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Login into your account!</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>Email:</p>\n          <input\n            type=\"email\"\n            ref={emailInputRef}\n            name=\"userEmail\"\n            placeholder=\"ivan_pupkin@gmail.com\"\n            required\n          />\n        </label>\n        <label>\n          <p>Password:</p>\n          <input\n            type=\"password\"\n            ref={passwordInputRef}\n            name=\"userPassword\"\n            minLength={7}\n            required\n          />\n        </label>\n        <br />\n        <button type=\"submit\" disabled={status === 'pending'}>\n          Sign In\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default LoginPage;\n"],"names":["status","useSelector","selectUserStatus","isLoggedIn","selectIsLoggedIn","navigate","useNavigate","emailInputRef","useRef","passwordInputRef","dispatch","useDispatch","useEffect","handleSubmit","event","preventDefault","formData","email","current","value","password","requestLogin","unwrap","response","toast","user","name","onSubmit","type","ref","placeholder","required","minLength","disabled"],"sourceRoot":""}